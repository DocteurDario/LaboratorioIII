CREATE DATABASE TP1_BIS
GO
USE TP1_BIS
GO
CREATE TABLE CARRERAS(
  IDCARRERA BIGINT NOT NULL PRIMARY KEY,
  CARRERA VARCHAR(50) NOT NULL,
  NRO_RESOLUCION VARCHAR(20) NOT NULL
)
GO
CREATE TABLE MATERIAS(
  IDMATERIA BIGINT NOT NULL PRIMARY KEY,
  MATERIA VARCHAR(50) NOT NULL,
  IDCARRERA BIGINT NOT NULL FOREIGN KEY REFERENCES CARRERAS(IDCARRERA)
)
GO
CREATE TABLE DOCENTES(
  LEGAJO BIGINT NOT NULL PRIMARY KEY,
  DNI VARCHAR(10) NOT NULL UNIQUE,
  APELLIDO VARCHAR(50) NOT NULL,
  NOMBRE VARCHAR(50) NOT NULL,
  FECHA_NACIMIENTO SMALLDATETIME NOT NULL
)
GO
CREATE TABLE CARGOS_DOCENTES(
  IDCARGO INT NOT NULL PRIMARY KEY,
  CARGO VARCHAR(50) NOT NULL
)
GO
CREATE TABLE PLANTAS_DOCENTES(
  LEGAJO BIGINT NOT NULL FOREIGN KEY REFERENCES DOCENTES(LEGAJO),
  IDMATERIA BIGINT NOT NULL FOREIGN KEY REFERENCES MATERIAS(IDMATERIA),
  ANIO INT NOT NULL,
  IDCARGO INT NOT NULL FOREIGN KEY REFERENCES CARGOS_DOCENTES(IDCARGO),
  PRIMARY KEY (LEGAJO, IDMATERIA, ANIO)
)
